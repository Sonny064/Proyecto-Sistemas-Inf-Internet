<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
   <h:head>
        <link rel='stylesheet' type='text/css' href='resources/css/bootstrap.min.css'></link>
        <link rel='stylesheet' type='text/css' href='resources/css/propia.css'></link>
        <title>Recuperar contraseña</title>
   </h:head>
    <h:body>
      <nav class="navbar navbar-expand-lg navbar-light customnav">
          <img src="img/logo.png" alt="logo" style="height: 40px; margin-right: 25px"/>
           <a class="navbar-brand especial" style="display:#{sesion.getUser()!=null and sesion.isTrabajador()?'block':'none'}" href="/ACOES-war/faces/proyectos.xhtml">Proyectos</a>
           <a class="navbar-brand especial" style="display:#{sesion.getUser()!=null?'block':'none'}" href="/ACOES-war/faces/centros.xhtml">Centros</a>
           <a class="navbar-brand especial" style="display:#{sesion.getUser()!=null?'block':'none'}" href="/ACOES-war/faces/personal.xhtml">Personal</a>
           <a class="navbar-brand especial" style="display:#{sesion.getUser()!=null?'block':'none'}" href="/ACOES-war/faces/socios.xhtml">Socios</a>
           <a class="navbar-brand especial" style="display:#{sesion.getUser()!=null?'block':'none'}" href="/ACOES-war/faces/beneficiarios.xhtml">Beneficiarios</a>
           <div class="container" style="position: absolute; right: 15px; max-width: 250px">
            <a class="navbar-brand especial" style="display:#{sesion.getUser()==null?'block':'none'}" href="/ACOES-war/faces/login.xhtml">Iniciar sesión</a>
            <a class="navbar-brand especial" style="display:#{sesion.getUser()==null?'block':'none'}" href="/ACOES-war/faces/registro.xhtml">Registrarse</a>
            <a class="navbar-brand especial" style="display:#{sesion.getUser()!=null?'block':'none'}" href="/ACOES-war/faces/perfil.xhtml">Hola #{sesion.nombre()}!</a>
            <h:form>
                <h:commandButton value="Salir" class="btn btn-primary btn-sm" style="display:#{sesion.getUser()!=null?'block':'none'}" action="#{sesion.close()}"/>
            </h:form>
           </div>
      </nav>
        
      <div class="container">
       <div class="d-flex justify-content-center h-100" style="margin-top: 100px">
         <div class="card" style="height: 300px">
           <h:form>
               <div class="card-header">
                   <h3 class ="especial">Recuperar contraseña</h3> 
               </div>
               
               <div class="card-body">
                   <div class="form-group row">
                    <div class="form-row" style="display:#{recuperacion.phase==0?'block':'none'}; margin-left: 1em; margin-right: 1em; width: 100%">
                      <h:outputLabel  value="Introducta su correo electrónico" class="especial" lang="es"/>
                      <h:inputText class="form-control"  lang="es" value="#{recuperacion.email}"/>
                    </div>
                    <div class="form-row" style="display:#{recuperacion.phase==1?'block':'none'}; margin-left: 1em; margin-right: 1em; width: 100%">
                      <h:outputLabel  value="Introducta su NIF" class="especial" lang="es"/>
                      <h:inputText class="form-control" lang="es" value="#{recuperacion.nif}"/>
                    </div>
                        
                    <div class="form-row" style="display:#{recuperacion.phase==2?'block':'none'}; margin-left: 1em; margin-right: 1em; width: 100%">
                      <h:outputLabel value="Introducta su nueva contraseña" class="especial" lang="es"/>
                      <h:inputSecret class="form-control" lang="es" value="#{recuperacion.password}"/>
                    </div>
                    <div class="form-row" style="display:#{recuperacion.phase==2?'block':'none'}; margin-left: 1em; margin-right: 1em; margin-top: 1em; width: 100%">
                      <h:inputSecret class="form-control" lang="es" value="#{recuperacion.verify}"/>
                    </div>
                </div>

                <div class="form-group row" style="position: absolute; bottom: 0px; width: 100%">
                    <div style ="margin-left:auto"/>
                   <h:commandButton value="Atrás" class="btn btn-secondary btn-sm" style="display:#{recuperacion.phase != 0?'block':'none'};margin-right: 10px" action="#{recuperacion.back}"/>
                   <h:commandButton value="Continuar" class="btn btn-primary btn-sm" style="margin-right: 2em" action="#{recuperacion.next()}"/>
                </div>
               </div>
           </h:form>
        </div>
      </div>
     </div>
   </h:body>
</html>
